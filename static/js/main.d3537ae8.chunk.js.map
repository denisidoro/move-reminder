{"version":3,"sources":["context/index.ts","structures/hierarchy-map.js","logic/one-parser.js","logic/string.ts","logic/db.ts","logic/array.js","util/assets.ts","widgets/tree-chart/d3.ts","widgets/tree-chart/index.tsx","logic/style.ts","logic/adapter.ts","widgets/mind-map.tsx","widgets/particles-background.tsx","widgets/main-view.tsx","widgets/nav-bar.tsx","App.tsx","logic/url.js","logic/bulk-parser.js","bootstrap/reportWebVitals.ts","index.tsx"],"names":["MainContext","createContext","query","setQuery","maps","setMaps","useMainContext","useContext","_dfs","pattern","matchPredicate","path","m","Object","keys","c","fullPath","res","_walk","f","entries","map","name","m2","children","HierarchyMap","this","xs","v","forEach","x","whitespaceRegex","parse","txt","hm","parents","split","line","id","trim","length","depth","match","countTabs","slice","fullId","add","normalize","replace","toLowerCase","matchesNormalized","subject","includes","LINKS","NO_MATCHES","pathStrToVec","queryFunctionBuilder","k","home","normalizedText","filter","p","parts","findByPath","matches","filePath","mapPath","dfs","push","nodeMatches","firstNode","array1","array2","every","value","index","external","createElement","tagName","props","attrs","el","document","key","setAttribute","fn","cache","memoize","url","head","append","rel","as","href","linkWidth","nodeData","data","Math","max","d","refreshPromises","Markmap","svg","opts","options","state","styleNode","g","zoom","viewHooks","bind","transformHtml","Hook","datum","d3","on","handleZoom","duration","nodeFont","nodeMinHeight","spacingVertical","spacingHorizontal","autoFit","fitRatio","color","node","l","paddingX","onClick","getId","attr","updateStyle","call","style","extraStyle","addClass","text","getStyleContent","e","transform","renderData","i","container","containerClass","className","textContent","body","walkTree","item","next","child","innerHTML","nodes","arrayFrom","childNodes","parent","rect","getBoundingClientRect","s","ceil","width","height","remove","assign","initializeData","setOptions","originData","layout","flextree","nodeSize","spacing","a","b","tree","hierarchy","ySizeInner","ySize","y","adjustSpacing","descendants","reverse","links","linkShape","minX","xSize","maxX","minY","maxY","fit","origin","find","x0","y0","selectAll","childSelector","nodeEnter","enter","handleClick","nodeExit","transition","exit","select","nodeMerge","merge","join","update","circle","foreignObject","fo","cloneNode","replaceWith","target","source","insert","sel","offsetWidth","offsetHeight","naturalWidth","naturalHeight","scale","min","initialZoom","translate","end","catch","noop","svgNode","halfWidth","halfHeight","newTransform","mm","setData","promises","callback","scheduled","callbackSoon","Promise","resolve","then","undefined","promise","indexOf","splice","onPromiseResolve","TreeChart","myRef","markmap","React","createRef","current","create","ref","Component","colorKeys","FALLBACK_COLOR","Colors","BLACK","getColor","j","styled","colorMain","newV","newNode","as_map","adapt","walk","Mindmap","queryFunction","useMemo","fpsLimit","interactivity","detectsOn","events","enable","mode","onHover","resize","modes","bubble","distance","opacity","size","quantity","repulse","particles","collisions","move","direction","outMode","random","speed","straight","number","density","value_area","shape","type","detectRetina","ParticlesBackground","MainView","searchButton","icon","minimal","Search","rightElement","onChange","searchWikipediaClick","window","open","searchGoogleImagesClick","searchFarlexClick","helpClick","NavBar","disabled","fixedToTop","background","align","Alignment","LEFT","Classes","MINIMAL","console","clear","App","useState","useEffect","location","searchParams","URLSearchParams","getParams","search","catchCallback","Error","errorMaps","fetch","response","filename","substring","stringToMap","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wNAEaA,G,4BAAcC,wBAAc,CAAEC,MAAO,KAAMC,SAAU,KAAMC,KAAM,KAAMC,QAAS,QAEhFC,EAAiB,kBAAMC,qBAAWP,I,4BCJ/C,SAASQ,EAAMC,EAASC,EAAgBC,EAAMC,GAC5C,cAAgBC,OAAOC,KAAKF,GAA5B,eAAgC,CAA3B,IAAMG,EAAC,KACJC,EAAQ,sBAAOL,GAAP,CAAaI,IAC3B,GAAIL,EAAeK,EAAGN,GACpB,OAAOO,EAET,IAAMC,EAAMT,EAAKC,EAASC,EAAgBM,EAAUJ,EAAEG,IACtD,GAAIE,EACF,OAAOA,EAGX,OAAO,KAGT,SAASC,EAAOC,EAAGP,GACjB,OAAOC,OAAOO,QAAQR,GAAGS,KAAI,YAAiB,IAAD,mBAAdC,EAAc,KAARC,EAAQ,KACrCC,EAAWN,EAAMC,EAAGI,GAC1B,OAAOJ,EAAEG,EAAME,MAIZ,IAAMC,EAAb,WACE,aAAgB,oBACdC,KAAKd,EAAI,GAFb,gDAKOe,GACH,IAAIC,EAAIF,KAAKd,EAOb,OANAe,EAAGE,SAAQ,SAACC,GACE,MAARF,EAAEE,KACJF,EAAEE,GAAK,IAETF,EAAIA,EAAEE,MAEDF,IAbX,0BAgBOnB,EAASC,GACZ,OAAOF,EAAKC,EAASC,EAAgB,GAAIgB,KAAKd,KAjBlD,2BAoBQO,GACJ,OAAOD,EAAMC,EAAGO,KAAKd,OArBzB,KCfA,IAAMmB,EAAkB,OAEjB,SAASC,EAAMC,GACpB,IAAMC,EAAK,IAAIT,EACXU,EAAU,GAWd,OAVAF,EAAIG,MAAM,MAAMP,SAAQ,SAACQ,GACvB,IAAMC,EAAKD,EAAKE,OAChB,GAAID,EAAGE,OAAS,EAAG,CACjB,IAAMC,EAZZ,SAAmBJ,GACjB,OAAOA,EAAKK,MAAMX,GAAiB,GAAGS,OAAS,EAW7BG,CAAUN,GACxBF,EAAUA,EAAQS,MAAM,EAAGH,GAC3B,IAAMI,EAAM,sBAAOV,GAAP,CAAgBG,IAC5BJ,EAAGY,IAAID,GACPV,EAAQM,GAASH,MAGdJ,ECrBF,SAASa,EAAUd,GACxB,OAAOA,EAAIc,UAAU,OAClBC,QAAQ,mBAAoB,IAC5BC,cAGE,SAASC,EAAkBC,EAAS1C,GACzC,OAAOsC,EAAUI,GAASC,SAAS3C,GCF9B,IAAM4C,EAAQ,QAERC,EAAa,aAE1B,SAASC,EAAa5C,GACpB,OAAOA,EAAKyB,MAAM,KAQb,SAASoB,EAAqBpD,GA2DnC,OAlBA,SAAe6B,GACb,GAtDgB,IAsDZA,EACF,OAVJ,WACE,IAAMC,EAAK,IAAIT,EAIf,OAHAZ,OAAOC,KAAKV,GAAMyB,SAAQ,SAAA4B,GACxBvB,EAAGY,IAAIS,EAAaE,OAEfvB,EAKEwB,GAET,IA5CmBjD,EA4CbkD,EAAiBZ,EAAUd,GAAKM,OAChC5B,EA1BR,SAAoBsB,GAClB,OAAOpB,OAAOC,KAAKV,GAAMwD,QAAO,SAACC,GAC/B,GAAIX,EAAkBW,EAAG5B,GAAM,CAC7B,IAAM6B,EAAQP,EAAaM,GAE3B,GAAId,EADae,EAAMA,EAAMtB,OAAS,GACfD,SAAWN,EAChC,OAAO,EAGX,OAAO,KACN,GAgBU8B,CAAWJ,GAClBzB,EAAKvB,EAAOqB,EAAM5B,EAAKO,IAAS,IAAIc,EAIpCuC,EAAO,uBAlDMvD,EAkDakD,EAjDzB9C,OAAOC,KAAKV,GAChBwD,QAAO,SAACjD,GAAD,OAAUuC,EAAkBvC,EAAMF,MACzCY,IAAIkC,KA+CM,YA5Cf,SAAqB9C,GACnB,IAAMuD,EAAU,GAShB,OARAnD,OAAOO,QAAQhB,GAAMyB,SAAQ,YAAkB,IAAD,mBAAflB,EAAe,KAATsB,EAAS,KAC5C,GAAIiB,EAAkBjB,EAAKxB,GAAU,CACnC,IAAMwD,EAAWV,EAAa5C,GAExBuD,EADSlC,EAAMC,GACEkC,IAAI1D,EAASyC,IAAsB,GAC1Dc,EAAQI,KAAR,sBAAiBH,GAAjB,YAA8BC,SAG3BF,EAkC6CK,CAAYV,KAC1DW,EAAYzD,OAAOC,KAAKoB,EAAGtB,GAAG,GAIpC,OAHAoD,EACGJ,QANgB,SAAChD,GAClB,OAAQD,GAtDd,SAAkBA,EAAM+B,GACtB,ICdqB6B,EAAQC,EDcvB1C,EAAIY,EAAME,MAAM,EAAGjC,EAAK6B,QAC9B,OCf6BgC,EDeN7D,KCfF4D,EDeDzC,GCbXU,SAAWgC,EAAOhC,QACrB+B,EAAOE,OAAM,SAACC,EAAOC,GAAR,OAAkBD,IAAUF,EAAOG,ODgElCC,CAASrB,EAAa5C,GAAOC,MAM5CiB,SAAQ,SAACjB,GAAD,OAAOsB,EAAGY,IAAInC,EAAI,CAAI2D,EAAWjB,GAAf,mBAAyBzC,IAAKA,MACpDsB,G,4EEzDX,SAAS2C,EACPC,EACAC,EACAC,GAEA,IAAMC,EAAKC,SAASL,cAAcC,GAWlC,OAVIC,GACFlE,OAAOO,QAAQ2D,GAAOlD,SAAQ,YAAmB,IAAD,mBAAhBsD,EAAgB,KAAXT,EAAW,KAC9CO,EAAGE,GAAOT,KAGVM,GACFnE,OAAOO,QAAQ4D,GAAOnD,SAAQ,YAAmB,IAAD,mBAAhBsD,EAAgB,KAAXT,EAAW,KAC9CO,EAAGG,aAAaD,EAAKT,MAGlBO,GA/BF,SAAqDI,GAC1D,IAAMC,EAAQ,GAiCUC,EAAQ,SAACC,GACjCN,SAASO,KAAKC,OAAOb,EAAc,OAAQ,CACzCc,IAAK,UACLC,GAAI,SACJC,KAAML,QClCV,SAASM,EAAUC,GACjB,IAAMC,EAAcD,EAASC,KAC7B,OAAOC,KAAKC,IAAI,EAAI,EAAIF,EAAKG,EAAG,KAwBlC,IAAMC,EAAuC,GA2BtC,IAAMC,EAAb,WAoBE,WAAYC,EAA0CC,GAAyB,IAAD,gCAnB9EC,aAmB8E,OAjB9EC,WAiB8E,OAf9EH,SAe8E,OAb9EI,eAa8E,OAN9EC,OAM8E,OAJ9EC,UAI8E,OAF9EC,eAE8E,EAC5E,CACE,aACA,eACAhF,SAAQ,SAAAsD,GACR,EAAKA,GAAO,EAAKA,GAAK2B,KAAK,MAE7BpF,KAAKmF,UA3DA,CACLE,cAAe,IAAIC,KA2DnBtF,KAAK4E,IAAOA,EAAsBW,MAASX,EAAwBY,IAAUZ,GAC7E5E,KAAKgF,UAAYhF,KAAK4E,IAAIZ,OAAO,SACjChE,KAAKkF,KAAOM,MAAUC,GAAG,OAAQzF,KAAK0F,YACtC1F,KAAK8E,QAAL,aACEa,SAAU,IACVC,SAAU,2BACVC,cAAe,GACfC,gBAAiB,EACjBC,kBAAmB,GACnBC,SAAS,EACTC,SAAU,IAIVC,MAAO,SAACC,GAAkB,OAAOA,EAAKC,GAAK,QAC3CC,SAAU,EACVC,QAAS,SAACH,MACPtB,GAEL7E,KAAK+E,MAAQ,CACXnE,GAAIZ,KAAK8E,QAAQlE,IAAM2F,eAEzBvG,KAAKiF,EAAIjF,KAAK4E,IAAIZ,OAAO,KAAKwC,KAAK,QAA1B,UAAsCxG,KAAK+E,MAAMnE,GAAjD,OACTZ,KAAKyG,cACLzG,KAAK4E,IAAI8B,KAAK1G,KAAKkF,MApDvB,8DAuD6B,IAAD,EACIlF,KAAK8E,QAAzB6B,EADgB,EAChBA,MAAOf,EADS,EACTA,SACPhF,EAAOZ,KAAK+E,MAAZnE,GACFgG,EAA8B,oBAAVD,EAAuBA,EAAM/F,GAAM,GAgB7D,MAfe,WAChBA,EADgB,kCAEhBA,EAFgB,oCAGhBA,EAHgB,0CAIhBA,EAJgB,uCAKhBA,EALgB,oDAK8BgF,EAL9B,sCAMhBhF,EANgB,sIAOhBA,EAPgB,wDAQhBA,EARgB,4CAShBA,EATgB,iDAUhBA,EAVgB,oCAWhBA,EAXgB,uDAYhBA,EAZgB,wCAajBgG,EAbiB,QA3DnB,oCA8EI5G,KAAK4E,IAAI4B,KAAK,QAASK,YAAS7G,KAAK4E,IAAI4B,KAAK,SAAUxG,KAAK+E,MAAMnE,KACnEZ,KAAKgF,UAAU8B,KAAK9G,KAAK+G,qBA/E7B,iCAkFaC,GAAU,IACXC,EAAcD,EAAdC,UACRjH,KAAKiF,EAAEuB,KAAK,YAAaS,KApF7B,kCAuFcD,EAAGvC,GAAgC,IAAD,EACpCH,EAASG,EAATH,KACRtE,KAAK8E,QAAQwB,QAAQhC,GACrBA,EAAKnC,EAAL,2BACKmC,EAAKnC,GADV,IAEE1C,IAAG,UAAC6E,EAAKnC,SAAN,aAAC,EAAQ1C,KAEdO,KAAKkH,WAAWzC,EAAEH,QA9FtB,qCAiGiB6B,GACb,IAAIgB,EAAI,EADwB,EAEWnH,KAAK8E,QAAxCc,EAFwB,EAExBA,SAAUM,EAFc,EAEdA,MAAOL,EAFO,EAEPA,cACjBjF,EAAOZ,KAAK+E,MAAZnE,GACFwG,EAAY5D,SAASL,cAAc,OACnCkE,EAAc,UAAMzG,EAAN,cACpBwG,EAAUE,UAAYT,YACpBO,EAAUE,UADkB,UAEzB1G,EAFyB,OAG5ByG,GAEF,IAAMV,EAAQnD,SAASL,cAAc,SACrCwD,EAAMY,YAAN,YACFvH,KAAK+G,kBADH,cAEDM,EAFC,+HASMzB,EATN,kBAWDyB,EAXC,2CAeA7D,SAASgE,KAAKxD,OAAO2C,EAAOS,GAC5BK,YAAStB,GAAM,SAACuB,EAAMC,GAAU,IAAD,EAC7BD,EAAKrI,EAAL,UAASqI,EAAKrI,SAAd,aAAS,EAAQM,KAAI,SAAAiI,GAAK,sBAAUA,MACpCT,GAAK,EACL,IAAM5D,EAAKC,SAASL,cAAc,OAClCI,EAAGsE,UAAYH,EAAKxH,EACpBkH,EAAUpD,OAAOT,GACjBmE,EAAKvF,EAAL,2BACKuF,EAAKvF,GADV,IAGEgF,IACA5D,OAEF2C,EAAMwB,GACNC,OAEF,IAAMG,EAAQC,YAAUX,EAAUY,YAClChI,KAAKmF,UAAUE,cAAcqB,KAAK1G,KAAM8H,GACxCL,YAAStB,GAAM,SAACuB,EAAMC,EAAMM,GAAY,IAAD,EAC/BC,EAAOR,EAAKvF,EAAEoB,GAAG4E,wBACvBT,EAAKxH,EAAIwH,EAAKvF,EAAEoB,GAAGsE,UACnBH,EAAKvF,EAAEiG,EAAI,CAAC7D,KAAK8D,KAAKH,EAAKI,OAAQ/D,KAAKC,IAAID,KAAK8D,KAAKH,EAAKK,QAAS1C,IAGpE6B,EAAKvF,EAAEJ,EAAP,WAAoB,OAANkG,QAAM,IAANA,GAAA,UAAAA,EAAQ9F,SAAR,eAAWgF,IAAK,GAA9B,YAAoCO,EAAKvF,EAAEgF,EAA3C,YAAgDO,EAAKxH,GACrDyH,OAEFP,EAAUoB,SACV7B,EAAM6B,WAxJV,iCA2Ja3D,GACT1F,OAAOsJ,OAAOzI,KAAK8E,QAASD,KA5JhC,8BA+JUP,EAAcO,GACfP,IAAMA,EAAI,eAAQtE,KAAK+E,MAAMT,OAClCtE,KAAK+E,MAAMT,KAAOA,EAClBtE,KAAK0I,eAAepE,GAChBO,GAAM7E,KAAK2I,WAAW9D,GAC1B7E,KAAKkH,eApKT,iCAuKa0B,GAA2B,IAAD,WACnC,GAAK5I,KAAK+E,MAAMT,KAAhB,CADmC,MAEsCtE,KAAK8E,QAAtEiB,EAF2B,EAE3BA,kBAAmBM,EAFQ,EAERA,SAAUP,EAFF,EAEEA,gBAAiBE,EAFnB,EAEmBA,QAASE,EAF5B,EAE4BA,MACvDtF,EAAOZ,KAAK+E,MAAZnE,GACFiI,EAASC,cACZhJ,UAAS,SAAC2E,GAAD,cAAc,UAACA,EAAEtC,SAAH,aAAC,EAAK1C,IAAKgF,EAAEpF,KACpC0J,UAAS,SAACtE,GAA6B,IAAD,cACbA,EAAEH,KAAKnC,EAAEiG,EADI,GAC9BE,EAD8B,KAErC,MAAO,CAF8B,KAErBA,GAASA,EAAmB,EAAXjC,EAAe,GAAKN,MAEtDiD,SAAQ,SAACC,EAAyBC,GACjC,OAAOD,EAAEhB,SAAWiB,EAAEjB,OAASnC,EAAoC,EAAlBA,KAE/CqD,EAAON,EAAOO,UAAUpJ,KAAK+E,MAAMT,MACzCuE,EAAOM,GArOX,SAAuBA,EAA4BH,GACjDvB,YAAS0B,GAAM,SAAC1E,EAAGkD,GACjBlD,EAAE4E,WAAa5E,EAAE6E,MAAQN,EACzBvE,EAAE8E,GAAKP,EACPrB,MACC,YAiOD6B,CAAcL,EAAMpD,GACpB,IAAM0D,EAAsCN,EAAKM,cAAcC,UACzDC,EAA4BR,EAAKQ,QACjCC,EAAYpE,MACZqE,EAAOrE,IAAoBiE,GAAa,SAAAhF,GAAC,OAAIA,EAAErE,EAAIqE,EAAEqF,MAAQ,KAC7DC,EAAOvE,IAAoBiE,GAAa,SAAAhF,GAAC,OAAIA,EAAErE,EAAIqE,EAAEqF,MAAQ,KAC7DE,EAAOxE,IAAoBiE,GAAa,SAAAhF,GAAC,OAAIA,EAAE8E,KAC/CU,EAAOzE,IAAoBiE,GAAa,SAAAhF,GAAC,OAAIA,EAAE8E,EAAI9E,EAAE4E,cAC3DlK,OAAOsJ,OAAOzI,KAAK+E,MAAO,CACxB8E,OACAE,OACAC,OACAC,SAGEjE,GAAShG,KAAKkK,MAElB,IAAMC,EAASvB,GAAca,EAAYW,MAAK,SAAA1C,GAAI,OAAIA,EAAKpD,OAASsE,MAAeO,EAC7EkB,EAAE,UAAGF,EAAO7F,KAAKnC,EAAEkI,UAAjB,QAAuBF,EAAO/J,EAChCkK,EAAE,UAAGH,EAAO7F,KAAKnC,EAAEmI,UAAjB,QAAuBH,EAAOZ,EAGhCpD,EAAOnG,KAAKiF,EAAEsF,UAA6CC,YAA2B,MACzFlG,KAAKmF,GAAa,SAAAhF,GAAC,OAAIA,EAAEH,KAAKnC,EAAEJ,KAC7B0I,EAAYtE,EAAKuE,QAAQ1G,OAAO,KACnCwC,KAAK,aAAa,SAAA/B,GAAC,0BAAiB6F,EAAKH,EAAOd,WAAa5E,EAAE4E,WAA5C,YAA0DgB,EAAKF,EAAOL,MAAQ,EAAIrF,EAAEqF,MAApF,QACnBrE,GAAG,QAASzF,KAAK2K,aAEdC,EAAW5K,KAAK6K,WAAW1E,EAAK2E,QACtCF,EAASG,OAAO,QAAQvE,KAAK,QAAS,GAAGA,KAAK,KAAK,SAAA/B,GAAC,OAAIA,EAAE4E,cAC1DuB,EAASG,OAAO,iBAAiBpE,MAAM,UAAW,GAClDiE,EAASpE,KAAK,aAAa,SAAA/B,GAAC,0BAAiB0F,EAAOZ,EAAIY,EAAOd,WAAa5E,EAAE4E,WAAlD,YAAgEc,EAAO/J,EAAI+J,EAAOL,MAAQ,EAAIrF,EAAEqF,MAAhG,QAA0GtB,SAEtI,IAAMwC,EAAY7E,EAAK8E,MAAMR,GAC7BzK,KAAK6K,WAAWG,GAAWxE,KAAK,aAAa,SAAA/B,GAAC,0BAAiBA,EAAE8E,EAAnB,YAAwB9E,EAAErE,EAAIqE,EAAEqF,MAAQ,EAAxC,QAE9C,IAAM5B,EAAO8C,EAAUT,UAAgDC,YAA8B,SAClGlG,MAAK,SAAAG,GAAC,MAAI,CAACA,MAAI,SAAAA,GAAC,OAAIA,EAAEH,KAAKnC,EAAEJ,KAC7BmJ,MACC,SAAAR,GACE,OAAOA,EAAM1G,OAAO,QACjBwC,KAAK,KAAK,SAAA/B,GAAC,OAAIA,EAAE4E,cACjB7C,KAAK,KAAK,SAAA/B,GAAC,OAAIA,EAAEqF,MAAQ1F,EAAUK,GAAK,KACxC+B,KAAK,QAAS,GACdA,KAAK,SAAUpC,MAEpB,SAAA+G,GAAM,OAAIA,KACV,SAAAL,GAAI,OAAIA,EAAKtC,YAEjBxI,KAAK6K,WAAW3C,GACb1B,KAAK,KAAM,GACXA,KAAK,SAAS,SAAA/B,GAAC,OAAIA,EAAE4E,WAAa,KAClC7C,KAAK,QAAQ,SAAA/B,GAAC,OAAIyB,EAAMzB,EAAEH,SAE7B,IAAM8G,EAASJ,EAAUT,UAAkDC,YAAgC,WACxGlG,MAAK,SAAAG,GAAC,OAAKA,EAAEH,KAAKjF,EAAI,CAACoF,GAAK,MAAK,SAAAA,GAAC,OAAIA,EAAEH,KAAKnC,EAAEJ,KAC/CmJ,MACC,SAAAR,GACE,OAAOA,EAAM1G,OAAO,UACjBwC,KAAK,eAAgB,OACrBA,KAAK,MAAM,SAAA/B,GAAC,OAAIA,EAAE4E,cAClB7C,KAAK,MAAM,SAAA/B,GAAC,OAAIA,EAAEqF,SAClBtD,KAAK,IAAK,MAEf,SAAA2E,GAAM,OAAIA,KACV,SAAAL,GAAI,OAAIA,EAAKtC,YAEjBxI,KAAK6K,WAAWO,GACb5E,KAAK,IAAK,GACVA,KAAK,UAAU,SAAA/B,GAAC,OAAIyB,EAAMzB,EAAEH,SAC5BkC,KAAK,QAAQ,SAAA/B,GAAC,aAAK,UAAAA,EAAEH,KAAKnC,SAAP,eAAU1C,IAAKgF,EAAEH,KAAKjF,EAAI6G,EAAMzB,EAAEH,MAAQ,UAEhE,IAAM+G,EAAgBL,EAAUT,UAAyDC,YAAuC,kBAC7HlG,MAAK,SAAAG,GAAC,MAAI,CAACA,MAAI,SAAAA,GAAC,OAAIA,EAAEH,KAAKnC,EAAEJ,KAC7BmJ,MACC,SAAAR,GACE,IAAMY,EAAKZ,EAAM1G,OAAO,iBACrBwC,KAAK,QADG,UACS5F,EADT,QAER4F,KAAK,IAAKH,GACVG,KAAK,IAAK,GACVG,MAAM,UAAW,GACjBH,KAAK,UAAU,SAAA/B,GAAC,OAAIA,EAAEqF,SAUzB,OARAwB,EAAGtH,OAAO,aACP+G,QAAO,SAAgBtG,GACtB,IAAM0B,EAAO1B,EAAEH,KAAKnC,EAAEoB,GAAGgI,WAAU,GAEnC,OADAvL,KAAKwL,YAAYrF,GACVA,KAERK,KAAK,QAAS,gCAEV8E,KAET,SAAAH,GAAM,OAAIA,KACV,SAAAL,GAAI,OAAIA,EAAKtC,YAEdhC,KAAK,SAAS,SAAA/B,GAAC,OAAIF,KAAKC,IAAI,EAAGC,EAAE4E,WAAwB,EAAXhD,MACjDrG,KAAK6K,WAAWQ,GACb1E,MAAM,UAAW,GAGpB,IAAM1H,EAAOe,KAAKiF,EAAEsF,UAA4CC,YAA8B,SAC3FlG,KAAKqF,GAAO,SAAAlF,GAAC,OAAIA,EAAEgH,OAAOnH,KAAKnC,EAAEJ,KACjCmJ,MACC,SAAAR,GACE,IAAMgB,EAA2B,CAC/BpB,EAAKH,EAAOd,WACZgB,EAAKF,EAAOL,MAAQ,GAEtB,OAAOY,EAAMiB,OAAO,OAAQ,KACzBnF,KAAK,IAAKoD,EAAU,CAAE8B,SAAQD,OAAQC,QAE3C,SAAAP,GAAM,OAAIA,KACV,SAAAL,GACE,IAAMY,EAA2B,CAC/BvB,EAAOZ,EAAIY,EAAOd,WAClBc,EAAO/J,EAAI+J,EAAOL,MAAQ,GAE5B,OAAO,EAAKe,WAAWC,GACpBtE,KAAK,IAAKoD,EAAU,CAAE8B,SAAQD,OAAQC,KACtClD,YAGTxI,KAAK6K,WAAW5L,GACbuH,KAAK,UAAU,SAAA/B,GAAC,OAAIyB,EAAMzB,EAAEgH,OAAOnH,SACnCkC,KAAK,gBAAgB,SAAA/B,GAAC,OAAIL,EAAUK,EAAEgH,WACtCjF,KAAK,KAAK,SAAA/B,GACT,IAAMiH,EAA2B,CAC/BjH,EAAEiH,OAAOnC,EAAI9E,EAAEiH,OAAOrC,WACtB5E,EAAEiH,OAAOtL,EAAIqE,EAAEiH,OAAO5B,MAAQ,GAE1B2B,EAA2B,CAC/BhH,EAAEgH,OAAOlC,EACT9E,EAAEgH,OAAOrL,EAAIqE,EAAEgH,OAAO3B,MAAQ,GAEhC,OAAOF,EAAU,CAAE8B,SAAQD,cAG/BhC,EAAYtJ,SAAQ,SAAAsE,GAClBA,EAAEH,KAAKnC,EAAEkI,GAAK5F,EAAErE,EAChBqE,EAAEH,KAAKnC,EAAEmI,GAAK7F,EAAE8E,QAlUtB,iCAuUIqC,GAC4B,IACpBjG,EAAa3F,KAAK8E,QAAlBa,SACR,OAAOiG,EAAIf,aAAalF,SAASA,KA1UrC,4BA8UI,IADmB,EACH3F,KAAK4E,IAAIuB,OACoCgC,wBAA9C0D,EAFI,EAEXvD,MAA4BwD,EAFjB,EAESvD,OACpBtC,EAAajG,KAAK8E,QAAlBmB,SAHW,EAIgBjG,KAAK+E,MAAhC8E,EAJW,EAIXA,KAAME,EAJK,EAILA,KAAMC,EAJD,EAICA,KACd+B,EALa,EAIO9B,KACED,EACtBgC,EAAgBjC,EAAOF,EACvBoC,EAAQ1H,KAAK2H,IACjBL,EAAcE,EAAe9F,EAC7B6F,EAAeE,EAAgB/F,EAC/B,GAEIkG,EAAc3G,IACjB4G,WACEP,EAAcE,EAAeE,GAAS,EAAIjC,EAAOiC,GACjDH,EAAeE,EAAgBC,GAAS,EAAIpC,EAAOoC,GAErDA,MAAMA,GACT,OAAOjM,KAAK6K,WAAW7K,KAAK4E,KAAK8B,KAAK1G,KAAKkF,KAAK+B,UAAWkF,GAAaE,MAAMC,MAAMC,OA/VxF,8BAkWUN,GACN,IAAMO,EAAUxM,KAAK4E,IAAIuB,OADW,EAEiBqG,EAAQrE,wBACvDsE,EAH8B,EAE5BnE,MACwB,EAC1BoE,EAJ8B,EAERnE,OAEM,EAC5BtB,EAAYzB,IAAiBgH,GAC7BG,EAAe1F,EAClBmF,WACEK,EAAYxF,EAAU7G,IAAM,EAAI6L,GAAShF,EAAUlF,GACnD2K,EAAazF,EAAUsC,IAAM,EAAI0C,GAAShF,EAAUlF,GAEtDkK,MAAMA,GACT,OAAOjM,KAAK6K,WAAW7K,KAAK4E,KAAK8B,KAAK1G,KAAKkF,KAAK+B,UAAW0F,GAAcN,MAAMC,MAAMC,QA9WzF,8BAkXI3H,EACAC,EACAP,GAEA,IAAMsI,EAAK,IAAIjI,EAAQC,EAAKC,GAQ5B,OAPIP,IACFsI,EAAGC,QAAQvI,GACXsI,EAAG1C,OA9YT,SAA0B4C,EAA+BC,GACvD,IAAIC,EACEC,EAAe,WACdD,IACHA,EAAYE,QAAQC,UAAUC,MAAK,WACjCJ,OAAYK,EACZN,OACCT,MAAMC,OAGbO,EAAS3M,SAAQ,SAAAmN,GACfA,EACGF,KAAKH,EAAcV,KACnBa,MAAK,WAEJ,IAAMjG,EAAI2F,EAASS,QAAQD,GACvBnG,GAAK,GAAG2F,EAASU,OAAOrG,EAAG,SAgYnCsG,CAAiB/I,GAAiB,WAChCkI,EAAGC,aAEED,MA9XX,KCtBec,E,kDAzBb,WAAYrK,GAAQ,IAAD,8BACjB,cAAMA,IAJRsK,WAGmB,IAFnBC,aAEmB,EAEjB,EAAKD,MAAQE,IAAMC,YAFF,E,gEAMjB,IAAMvK,EAAKvD,KAAK2N,MAAMI,QAChBzJ,EAAOtE,KAAKqD,MAAMiB,KACxBtE,KAAK4N,QAAUjJ,EAAQqJ,OAAOzK,EAAI,CAAE+C,QAAStG,KAAKqD,MAAMiD,SAAWhC,K,2CAInE,IAAMA,EAAOtE,KAAKqD,MAAMiB,KACxBtE,KAAK4N,QAAQf,QAAQvI,K,+EAQrB,OAAO,qBAAKqC,MAAO,CAAE4B,OAAQ,OAAQD,MAAO,QAAU2F,IAAKjO,KAAK2N,Y,GAzB5CE,IAAMK,W,QCNxBC,EAAY,CAChB,OACA,QACA,SACA,MACA,SACA,SACA,OACA,SACA,OACA,OACA,QACA,YACA,YACA,UAGWC,EAAiBC,IAAOC,MAE9B,SAASC,EAAUpH,EAAWqH,GACnC,IAAI/K,EAAM0K,EAAUhH,EAAKgH,EAAUrN,QAC7BiB,EAAIyM,EAAI,EAAI,EAAIA,EAAI,EAE1B,OADA/K,EAAG,UAAMA,GAAN,OAAY1B,GACRsM,IAAO5K,IAAQ2K,ECpBjB,SAASK,EAAOtI,GAA4D,IAA/CpF,EAA8C,uDAA9B,EAAG2N,EAA2B,uCACxExO,EAASiG,EAATjG,EAAGb,EAAM8G,EAAN9G,EACL+G,EAAIrF,EAAQ,EAAIwN,EAASG,EAAW3N,EAAQ,GAAKqN,EACjDO,EAAY,KAALzO,EAAW,GAAKA,EACvB0O,EAAO,2BAAQzI,GAAR,IAAc9G,EAAG,KAAMa,EAAGyO,EAAMlK,EAAG1D,EAAOqF,MAOvD,OANIuI,GAAQhN,IACViN,EAAQzM,EAAR,2BAAiByM,EAAQzM,GAAzB,IAA4B1C,GAAG,KAE7BJ,GAAKA,EAAEyB,OAAS,IAClB8N,EAAQvP,EAAIA,EAAEM,KAAI,SAACiI,EAAOT,GAAR,OAAcsH,EAAO7G,EAAO7G,EAAQ,EAAgB,MAAb2N,EAAoBvH,EAAIuH,OAE5EE,EAGT,SAASC,EAAOjP,EAAME,GACpB,MAAO,CAAEI,EAAGN,EAAMP,EAAGS,GAGhB,SAASgP,EAAMtO,EAAkBhC,GACtC,IAAI8F,EAAO9D,EAAGuO,KAAKF,GACTvK,EAAKxD,OACf,OAAQwD,EAAKxD,QACX,KAAK,EACHwD,EAAO,CAAEpE,EAAG1B,EAAOa,EAAG,CAAC,CAAEa,EAAG0B,KAC5B,MACF,KAAK,EACH0C,EAAOA,EAAK,GACZ,MACF,QACEA,EAAI,2BAAQA,EAAK,IAAb,IAAiBpE,EAAG1B,EAAOa,EAAGiF,IAEtC,OAAOmK,EAAOnK,GC7BhB,IAuBe0K,EAvBC,WAAO,IAAD,EACcpQ,IAA1BJ,EADY,EACZA,MAAOC,EADK,EACLA,SAAUC,EADL,EACKA,KAEnBuQ,EAAgBC,mBACpB,kBAAc,MAARxQ,EAAe,KAAOoD,EAAqBpD,KACjD,CAACA,IAEG4F,EAAO4K,mBACX,kBAAuB,MAAjBD,EAAwB,KAAOH,EAAMG,EAAczQ,GAAQA,KACjE,CAACyQ,EAAezQ,IAElB,OAAe,MAAR8F,EACH,KACA,cAAC,EAAD,CACAA,KAAMA,EACNgC,QAAS,YAAmB,IP0DA/F,EO1DhBL,EAAe,EAAfA,GP0DgBK,EOzDJL,IP0DdyB,GA3EI,IA2EKpB,GAAeA,GAAOqB,GOvDvCnD,EAASyB,O,kBCvBX4E,EAAU,CACdqK,SAAU,GACVC,cAAe,CACbC,UAAW,SACXC,OAAQ,CACNhJ,QAAS,CACPiJ,QAAQ,EACRC,KAAM,QAERC,QAAS,CACPF,QAAQ,EACRC,KAAM,WAERE,QAAQ,GAEVC,MAAO,CACLC,OAAQ,CACNC,SAAU,IACVlK,SAAU,EACVmK,QAAS,GACTC,KAAM,IAERrN,KAAM,CACJsN,SAAU,GAEZC,QAAS,CACPJ,SAAU,IACVlK,SAAU,MAIhBuK,UAAW,CACThK,MAAO,CACLlD,MAAO,WAET2G,MAAO,CACLzD,MAAO,UACP2J,SAAU,IACVN,QAAQ,EACRO,QAAS,GACTxH,MAAO,GAET6H,WAAY,CACVZ,QAAQ,GAEVa,KAAM,CACJC,UAAW,OACXd,QAAQ,EACRe,QAAS,SACTC,QAAQ,EACRC,MAAO,EACPC,UAAU,GAEZC,OAAQ,CACNC,QAAS,CACPpB,QAAQ,EACRqB,WAAY,MAEd5N,MAAO,IAET8M,QAAS,CACP9M,MAAO,IAET6N,MAAO,CACLC,KAAM,UAERf,KAAM,CACJQ,QAAQ,EACRvN,MAAO,IAGX+N,cAAc,GAGHC,EAAsB,WACjC,OACE,cAAC,IAAD,CACE1J,UAAU,yBACVxC,QAASA,KC7EFmM,EAAW,WACtB,OACE,sBAAKrQ,GAAG,YAAR,UACE,qBAAK0G,UAAU,UAAf,SACE,cAAC,EAAD,MAEF,cAAC,EAAD,Q,wBCKA4J,EACJ,cAAC,IAAD,CACEC,KAAK,SACLC,SAAO,IAILC,GAAS,WAAO,IAAD,EACSzS,IAApBJ,EADW,EACXA,MAAOC,EADI,EACJA,SAEf,OACE,cAAC,IAAD,CACE6S,aAAcJ,EACdJ,KAAK,OACLxJ,UAAU,SACVtE,MAAOxE,EACP+S,SAAU,SAACrR,GAAD,OAAOzB,EAASyB,EAAEuL,OAAOzI,WAKnCwO,GAAuB,SAAChT,GAAD,OAAW,WACtCiT,OAAOC,KAAP,sDAA2DlT,MAGvDmT,GAA0B,SAACnT,GAAD,OAAW,WACzCiT,OAAOC,KAAP,uFAA4FlT,EAA5F,mEAGIoT,GAAoB,SAACpT,GAAD,OAAW,WACnCiT,OAAOC,KAAP,wDAA6DlT,MAGzDqT,GAAY,WAChBJ,OAAOC,KAAK,gDAGDI,GAAS,WAAO,IAAD,EACElT,IAApBJ,EADkB,EAClBA,MAAOC,EADW,EACXA,SACTsT,EVhDY,IUgDDvT,EAEjB,OACE,cAAC,IAAD,CAAQwT,YAAU,EAAC1K,UAAU,SAASX,MAAO,CAAEsL,WAAY,SAA3D,SACE,eAAC,IAAD,CAAa3K,UAAU,WAAW4K,MAAOC,IAAUC,KAAnD,UACE,cAAC,IAAD,UAAe,cAAC,IAAD,CAAMjB,KAAK,YAC1B,cAAC,IAAD,IACA,cAAC,GAAD,IACA,cAAC,IAAD,IACA,cAAC,IAAD,CAAQA,KAAK,OAAO7J,UAAW+K,IAAQC,QAAShM,QAAS,kBAAM7H,EVzDnD,OU0DZ,cAAC,IAAD,IACA,cAAC,IAAD,CAAQ0S,KAAK,QAAQ7J,UAAW+K,IAAQC,QAASP,SAAUA,EAAUzL,QAASkL,GAAqBhT,KACnG,cAAC,IAAD,CAAQ2S,KAAK,OAAO7J,UAAW+K,IAAQC,QAASP,SAAUA,EAAUzL,QAASsL,GAAkBpT,KAC/F,cAAC,IAAD,CAAQ2S,KAAK,SAAS7J,UAAW+K,IAAQC,QAASP,SAAUA,EAAUzL,QAASqL,GAAwBnT,KACvG,cAAC,IAAD,IACA,cAAC,IAAD,CAAQ2S,KAAK,OAAO7J,UAAW+K,IAAQC,QAAShM,QAASuL,WCxDjEU,QAAQC,QA6BOC,OA3Bf,WAAgB,IAAD,EACaC,mBXVR,IWSL,mBACNlU,EADM,KACCC,EADD,OAEWiU,mBAAS,MAFpB,mBAENhU,EAFM,KAEAC,EAFA,KAiBb,OAbAgU,qBAAU,WACR,IACM7O,ECrBH,SAAmB8O,GACxB,IADkC,EAC5BC,EAAe,IAAIC,gBAAgBF,GACnC1T,EAAI,GAFwB,cAGb2T,EAAanT,WAHA,IAGlC,2BAA6C,CAAC,IAAD,yBAAjCqC,EAAiC,KAA9B7B,EAA8B,KAC3ChB,EAAE6C,GAAK7B,GAJyB,8BAMlC,OAAOhB,EDcU6T,CAAUtB,OAAOmB,SAASI,QACtBlP,KCZS,eDctBmP,EAAgB,WAAQtU,ECZ3B,SAAmBmF,GACxB,MAAO,CACLoP,MAAM,uBAAD,OACNpP,IDSuCqP,CAAUrP,KAEhDsP,MAAMtP,GACHsJ,MAAK,SAAAiG,GAAQ,OAAIA,EAASvM,UAC1BwF,MAAM2G,GACN7F,MAAK,SAAA5F,GAAI,OAAI7I,EE5Bb,SAAsBmI,GAC3B,IAAM5H,EAAI,GACNoU,EAAW,GAEfxM,EAAKpG,MAAM,MAAMP,SAAQ,SAAAQ,GACP,MAAZA,EAAK,IACP2S,EAAW3S,EAAK4S,UAAU,GAC1BrU,EAAEoU,GAAY,IAEdpU,EAAEoU,GAAU5Q,KAAK/B,MAIrB,IAAMd,EAAK,GAKX,OAJAV,OAAOO,QAAQR,GAAGiB,SAAQ,YAAa,IAAD,mBAAV4B,EAAU,KAAP7B,EAAO,KACpCL,EAAGkC,GAAK7B,EAAEgL,KAAK,SAGVrL,EFUmB2T,CAAYhM,OACjC8E,MAAM2G,KACR,IAGD,cAAC3U,EAAYmV,SAAb,CAAsBzQ,MAAO,CAAExE,QAAOC,WAAUC,OAAMC,WAAtD,SACE,sBAAK2I,UAAU,kBAAf,UACE,cAAC,GAAD,IACA,cAAC,EAAD,UGtBOoM,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBxG,MAAK,YAAkD,IAA/CyG,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEF5Q,SAAS6Q,eAAe,SAM1BX,O","file":"static/js/main.d3537ae8.chunk.js","sourcesContent":["import React, { createContext, useContext } from 'react'\n\nexport const MainContext = createContext({ query: null, setQuery: null, maps: null, setMaps: null })\n\nexport const useMainContext = () => useContext(MainContext)\n","function _dfs (pattern, matchPredicate, path, m) {\n  for (const c of Object.keys(m)) {\n    const fullPath = [...path, c]\n    if (matchPredicate(c, pattern)) {\n      return fullPath\n    }\n    const res = _dfs(pattern, matchPredicate, fullPath, m[c])\n    if (res) {\n      return res\n    }\n  }\n  return null\n}\n\nfunction _walk (f, m) {\n  return Object.entries(m).map(([name, m2]) => {\n    const children = _walk(f, m2)\n    return f(name, children)\n  })\n}\n\nexport class HierarchyMap {\n  constructor () {\n    this.m = {}\n  }\n\n  add (xs) {\n    let v = this.m\n    xs.forEach((x) => {\n      if (v[x] == null) {\n        v[x] = {}\n      }\n      v = v[x]\n    })\n    return v\n  }\n\n  dfs (pattern, matchPredicate) {\n    return _dfs(pattern, matchPredicate, [], this.m)\n  }\n\n  walk (f) {\n    return _walk(f, this.m)\n  }\n}\n","import { HierarchyMap } from '../structures/hierarchy-map'\n\nfunction countTabs(line) {\n  return line.match(whitespaceRegex)[0].length / 2\n}\n\nconst whitespaceRegex = /^\\s*/\n\nexport function parse(txt) {\n  const hm = new HierarchyMap()\n  let parents = []\n  txt.split('\\n').forEach((line) => {\n    const id = line.trim()\n    if (id.length > 0) {\n      const depth = countTabs(line)\n      parents = parents.slice(0, depth)\n      const fullId = [...parents, id]\n      hm.add(fullId)\n      parents[depth] = id\n    }\n  })\n  return hm\n}\n","export function normalize(txt) {\n  return txt.normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .toLowerCase()\n}\n\nexport function matchesNormalized(subject, pattern) {\n  return normalize(subject).includes(pattern)\n}\n","import { equal as arraysEqual } from './array'\nimport { parse } from './one-parser'\nimport { HierarchyMap } from '../structures/hierarchy-map'\nimport { normalize, matchesNormalized } from './string'\n\nexport const LINKS = 'links'\nexport const HOME = ''\nexport const NO_MATCHES = 'no matches'\n\nfunction pathStrToVec(path) {\n  return path.split('/')\n}\n\nfunction external(path, match) {\n  const x = match.slice(0, path.length)\n  return !arraysEqual(x, path)\n}\n\nexport function queryFunctionBuilder(maps) {\n  function fileMatches(pattern) {\n    return Object.keys(maps)\n      .filter((path) => matchesNormalized(path, pattern))\n      .map(pathStrToVec)\n  }\n\n  function nodeMatches(pattern) {\n    const matches = []\n    Object.entries(maps).forEach(([path, txt]) => {\n      if (matchesNormalized(txt, pattern)) {\n        const filePath = pathStrToVec(path)\n        const parsed = parse(txt)\n        const mapPath = parsed.dfs(pattern, matchesNormalized) || []\n        matches.push([...filePath, ...mapPath])\n      }\n    })\n    return matches\n  }\n\n  function findByPath(txt) {\n    return Object.keys(maps).filter((p) => {\n      if (matchesNormalized(p, txt)) {\n        const parts = pathStrToVec(p)\n        const lastPart = parts[parts.length - 1]\n        if (normalize(lastPart.trim()) == txt) {\n          return true\n        }\n      }\n      return false\n    })[0]\n  }\n\n  function home() {\n    const hm = new HierarchyMap()\n    Object.keys(maps).forEach(k => {\n      hm.add(pathStrToVec(k))\n    })\n    return hm\n  }\n\n  function query(txt): HierarchyMap {\n    if (txt == HOME) {\n      return home()\n    }\n    const normalizedText = normalize(txt).trim()\n    const path = findByPath(normalizedText)\n    const hm = path ? parse(maps[path]) : new HierarchyMap()\n    const isExternal = (m) => {\n      return !path || external(pathStrToVec(path), m)\n    }\n    const matches = [...fileMatches(normalizedText), ...nodeMatches(normalizedText)]\n    const firstNode = Object.keys(hm.m)[0]\n    matches\n      .filter(isExternal)\n      .forEach((m) => hm.add(path ? [firstNode, LINKS, ...m] : m))\n    return hm\n  }\n\n  return query\n}\n\nexport function isInternalCommand(txt: string): boolean {\n  return txt == LINKS || txt == HOME || txt == NO_MATCHES\n}\n","export function equal (array1, array2) {\n  return (\n    array1.length === array2.length &&\n        array1.every((value, index) => value === array2[index])\n  )\n}\n","import { JSItem, JSScriptItem, CSSItem } from 'markmap-common'\n\nexport function memoize<T extends (...args: any[]) => any> (fn: T): T {\n  const cache = {}\n  return function memoized (...args: any[]): T {\n    const key = `${args[0]}`\n    let data = cache[key]\n    if (!data) {\n      data = {\n        value: fn(...args)\n      }\n      cache[key] = data\n    }\n    return data.value\n  } as T\n}\n\nfunction createElement (\n  tagName: string,\n  props?: any,\n  attrs?: { [key: string]: string }\n): HTMLElement {\n  const el = document.createElement(tagName)\n  if (props) {\n    Object.entries(props).forEach(([key, value]) => {\n      el[key] = value\n    })\n  }\n  if (attrs) {\n    Object.entries(attrs).forEach(([key, value]) => {\n      el.setAttribute(key, value)\n    })\n  }\n  return el\n}\n\nconst memoizedPreloadJS = memoize((url: string) => {\n  document.head.append(createElement('link', {\n    rel: 'preload',\n    as: 'script',\n    href: url\n  }))\n})\n\nfunction loadJSItem (item: JSItem, context: any): Promise<any> {\n  if (item.type === 'script') {\n    return new Promise((resolve, reject) => {\n      document.head.append(createElement('script', {\n        ...item.data,\n        onload: resolve,\n        onerror: reject\n      }))\n    })\n  }\n  if (item.type === 'iife') {\n    const { fn, getParams } = item.data\n    fn(...getParams?.(context) || [])\n  }\n}\n\nfunction loadCSSItem (item: CSSItem): void {\n  if (item.type === 'style') {\n    document.head.append(createElement('style', {\n      textContent: item.data\n    }))\n  } else if (item.type === 'stylesheet') {\n    document.head.append(createElement('link', {\n      rel: 'stylesheet',\n      ...item.data\n    }))\n  }\n}\n\nexport async function loadJS (items: JSItem[], context: any): Promise<void> {\n  const needPreload = items.filter(item => item.type === 'script') as JSScriptItem[]\n  if (needPreload.length > 1) needPreload.forEach(item => memoizedPreloadJS(item.data.src))\n  context = {\n    getMarkmap: () => (window as any).markmap,\n    ...context\n  }\n  for (const item of items) {\n    await loadJSItem(item, context)\n  }\n}\n\nexport function loadCSS (items: CSSItem[]): void {\n  for (const item of items) {\n    loadCSSItem(item)\n  }\n}\n","import * as d3 from 'd3'\nimport { flextree } from 'd3-flextree'\nimport { Hook, getId, walkTree, arrayFrom, addClass, childSelector, noop } from 'markmap-common'\nimport { IMarkmapOptions, IMarkmapState, IMarkmapFlexTreeItem, IMarkmapLinkItem, INode } from '../../types'\nexport { loadJS, loadCSS } from '../../util/assets'\n\nfunction linkWidth(nodeData: IMarkmapFlexTreeItem): number {\n  const data: INode = nodeData.data\n  return Math.max(6 - 2 * data.d, 1.5)\n}\n\nfunction adjustSpacing(tree: IMarkmapFlexTreeItem, spacing: number): void {\n  walkTree(tree, (d, next) => {\n    d.ySizeInner = d.ySize - spacing\n    d.y += spacing\n    next()\n  }, 'children')\n}\n\ntype ID3SVGElement = d3.Selection<\n  SVGElement,\n  IMarkmapFlexTreeItem,\n  HTMLElement,\n  IMarkmapFlexTreeItem\n>\n\nfunction createViewHooks() {\n  return {\n    transformHtml: new Hook<(mm: Markmap, nodes: HTMLElement[]) => void>()\n  }\n}\n\nconst refreshPromises: Array<Promise<any>> = []\n\nexport function registerRefreshPromise(promise: Promise<any>) {\n  refreshPromises.push(promise)\n}\n\nfunction onPromiseResolve(promises: Array<Promise<any>>, callback: () => void) {\n  let scheduled: Promise<any> | void\n  const callbackSoon = () => {\n    if (!scheduled) {\n      scheduled = Promise.resolve().then(() => {\n        scheduled = undefined\n        callback()\n      }).catch(noop)\n    }\n  }\n  promises.forEach(promise => {\n    promise\n      .then(callbackSoon, noop)\n      .then(() => {\n        // No need to wait for the promise in the future\n        const i = promises.indexOf(promise)\n        if (i >= 0) promises.splice(i, 1)\n      })\n  })\n}\n\nexport class Markmap {\n  options: IMarkmapOptions\n\n  state: IMarkmapState\n\n  svg: ID3SVGElement\n\n  styleNode: d3.Selection<\n    HTMLStyleElement,\n    IMarkmapFlexTreeItem,\n    HTMLElement,\n    IMarkmapFlexTreeItem\n  >\n\n  g: d3.Selection<SVGGElement, IMarkmapFlexTreeItem, HTMLElement, IMarkmapFlexTreeItem>\n\n  zoom: d3.ZoomBehavior<Element, unknown>\n\n  viewHooks: ReturnType<typeof createViewHooks>\n\n  constructor(svg: string | SVGElement | ID3SVGElement, opts?: IMarkmapOptions) {\n    [\n      'handleZoom',\n      'handleClick'\n    ].forEach(key => {\n      this[key] = this[key].bind(this)\n    })\n    this.viewHooks = createViewHooks()\n    this.svg = (svg as ID3SVGElement).datum ? (svg as ID3SVGElement) : d3.select(svg as string)\n    this.styleNode = this.svg.append('style')\n    this.zoom = d3.zoom().on('zoom', this.handleZoom)\n    this.options = {\n      duration: 500,\n      nodeFont: '300 16px/20px sans-serif',\n      nodeMinHeight: 16,\n      spacingVertical: 5,\n      spacingHorizontal: 80,\n      autoFit: true,\n      fitRatio: 0.95,\n      // color: (colorFn => (node: INode): string => colorFn(node.p.i))(\n      //   d3.scaleOrdinal(d3.schemeCategory10),\n      // ),\n      color: (node: INode) => { return node.l || 'blue' },\n      paddingX: 8,\n      onClick: (node: INode) => { },\n      ...opts\n    }\n    this.state = {\n      id: this.options.id || getId()\n    }\n    this.g = this.svg.append('g').attr('class', `${this.state.id}-g`)\n    this.updateStyle()\n    this.svg.call(this.zoom)\n  }\n\n  getStyleContent(): string {\n    const { style, nodeFont } = this.options\n    const { id } = this.state\n    const extraStyle = typeof style === 'function' ? style(id) : ''\n    const styleText = `\\\n.${id} { color: #fffafa; }\n.${id} a { color: #0097e6; }\n.${id} a:hover { color: #00a8ff; }\n.${id}-g > path { fill: none; }\n.${id}-fo > div { display: inline-block; font: ${nodeFont}; white-space: nowrap; }\n.${id}-fo code { padding: .2em .4em; font-size: calc(1em - 2px); color: #555; background-color: #f0f0f0; border-radius: 2px; }\n.${id}-fo del { text-decoration: line-through; }\n.${id}-fo em { font-style: italic; }\n.${id}-fo strong { font-weight: bolder; }\n.${id}-fo pre { margin: 0; }\n.${id}-fo pre[class*=language-] { padding: 0; }\n.${id}-g > g { cursor: pointer; }\n${extraStyle}\n`\n    return styleText\n  }\n\n  updateStyle(): void {\n    this.svg.attr('class', addClass(this.svg.attr('class'), this.state.id))\n    this.styleNode.text(this.getStyleContent())\n  }\n\n  handleZoom(e): void {\n    const { transform } = e\n    this.g.attr('transform', transform)\n  }\n\n  handleClick(e, d: IMarkmapFlexTreeItem): void {\n    const { data } = d\n    this.options.onClick(data)\n    data.p = {\n      ...data.p,\n      f: !data.p?.f\n    }\n    this.renderData(d.data)\n  }\n\n  initializeData(node: INode): void {\n    let i = 0\n    const { nodeFont, color, nodeMinHeight } = this.options\n    const { id } = this.state\n    const container = document.createElement('div')\n    const containerClass = `${id}-container`\n    container.className = addClass(\n      container.className,\n      `${id}-fo`,\n      containerClass\n    )\n    const style = document.createElement('style')\n    style.textContent = `\n${this.getStyleContent()}\n.${containerClass} {\n  position: absolute;\n  width: 0;\n  height: 0;\n  top: -100px;\n  left: -100px;\n  overflow: hidden;\n  font: ${nodeFont};\n}\n.${containerClass} > div {\n  display: inline-block;\n}\n`\n    document.body.append(style, container)\n    walkTree(node, (item, next) => {\n      item.c = item.c?.map(child => ({ ...child }))\n      i += 1\n      const el = document.createElement('div')\n      el.innerHTML = item.v\n      container.append(el)\n      item.p = {\n        ...item.p,\n        // unique ID\n        i,\n        el\n      }\n      color(item) // preload colors\n      next()\n    })\n    const nodes = arrayFrom(container.childNodes) as HTMLElement[]\n    this.viewHooks.transformHtml.call(this, nodes)\n    walkTree(node, (item, next, parent) => {\n      const rect = item.p.el.getBoundingClientRect()\n      item.v = item.p.el.innerHTML\n      item.p.s = [Math.ceil(rect.width), Math.max(Math.ceil(rect.height), nodeMinHeight)]\n      // TODO keep keys for unchanged objects\n      // unique key, should be based on content\n      item.p.k = `${parent?.p?.i || ''}.${item.p.i}:${item.v}`\n      next()\n    })\n    container.remove()\n    style.remove()\n  }\n\n  setOptions(opts: IMarkmapOptions): void {\n    Object.assign(this.options, opts)\n  }\n\n  setData(data?: INode, opts?: IMarkmapOptions): void {\n    if (!data) data = { ...this.state.data }\n    this.state.data = data\n    this.initializeData(data)\n    if (opts) this.setOptions(opts)\n    this.renderData()\n  }\n\n  renderData(originData?: INode): void {\n    if (!this.state.data) return\n    const { spacingHorizontal, paddingX, spacingVertical, autoFit, color } = this.options\n    const { id } = this.state\n    const layout = flextree()\n      .children((d: INode) => !d.p?.f && d.c)\n      .nodeSize((d: IMarkmapFlexTreeItem) => {\n        const [width, height] = d.data.p.s\n        return [height, width + (width ? paddingX * 2 : 0) + spacingHorizontal]\n      })\n      .spacing((a: IMarkmapFlexTreeItem, b: IMarkmapFlexTreeItem) => {\n        return a.parent === b.parent ? spacingVertical : spacingVertical * 2\n      })\n    const tree = layout.hierarchy(this.state.data)\n    layout(tree)\n    adjustSpacing(tree, spacingHorizontal)\n    const descendants: IMarkmapFlexTreeItem[] = tree.descendants().reverse()\n    const links: IMarkmapLinkItem[] = tree.links()\n    const linkShape = d3.linkHorizontal()\n    const minX = d3.min<any, number>(descendants, d => d.x - d.xSize / 2)\n    const maxX = d3.max<any, number>(descendants, d => d.x + d.xSize / 2)\n    const minY = d3.min<any, number>(descendants, d => d.y)\n    const maxY = d3.max<any, number>(descendants, d => d.y + d.ySizeInner)\n    Object.assign(this.state, {\n      minX,\n      maxX,\n      minY,\n      maxY\n    })\n\n    if (autoFit) this.fit()\n\n    const origin = originData && descendants.find(item => item.data === originData) || tree\n    const x0 = origin.data.p.x0 ?? origin.x\n    const y0 = origin.data.p.y0 ?? origin.y\n\n    // Update the nodes\n    const node = this.g.selectAll<SVGGElement, IMarkmapFlexTreeItem>(childSelector<SVGGElement>('g'))\n      .data(descendants, d => d.data.p.k)\n    const nodeEnter = node.enter().append('g')\n      .attr('transform', d => `translate(${y0 + origin.ySizeInner - d.ySizeInner},${x0 + origin.xSize / 2 - d.xSize})`)\n      .on('click', this.handleClick)\n\n    const nodeExit = this.transition(node.exit<IMarkmapFlexTreeItem>())\n    nodeExit.select('rect').attr('width', 0).attr('x', d => d.ySizeInner)\n    nodeExit.select('foreignObject').style('opacity', 0)\n    nodeExit.attr('transform', d => `translate(${origin.y + origin.ySizeInner - d.ySizeInner},${origin.x + origin.xSize / 2 - d.xSize})`).remove()\n\n    const nodeMerge = node.merge(nodeEnter)\n    this.transition(nodeMerge).attr('transform', d => `translate(${d.y},${d.x - d.xSize / 2})`)\n\n    const rect = nodeMerge.selectAll<SVGRectElement, IMarkmapFlexTreeItem>(childSelector<SVGRectElement>('rect'))\n      .data(d => [d], d => d.data.p.k)\n      .join(\n        enter => {\n          return enter.append('rect')\n            .attr('x', d => d.ySizeInner)\n            .attr('y', d => d.xSize - linkWidth(d) / 2)\n            .attr('width', 0)\n            .attr('height', linkWidth)\n        },\n        update => update,\n        exit => exit.remove()\n      )\n    this.transition(rect)\n      .attr('x', -1)\n      .attr('width', d => d.ySizeInner + 2)\n      .attr('fill', d => color(d.data))\n\n    const circle = nodeMerge.selectAll<SVGCircleElement, IMarkmapFlexTreeItem>(childSelector<SVGCircleElement>('circle'))\n      .data(d => (d.data.c ? [d] : []), d => d.data.p.k)\n      .join(\n        enter => {\n          return enter.append('circle')\n            .attr('stroke-width', '1.5')\n            .attr('cx', d => d.ySizeInner)\n            .attr('cy', d => d.xSize)\n            .attr('r', 0)\n        },\n        update => update,\n        exit => exit.remove()\n      )\n    this.transition(circle)\n      .attr('r', 6)\n      .attr('stroke', d => color(d.data))\n      .attr('fill', d => (d.data.p?.f && d.data.c ? color(d.data) : '#fff'))\n\n    const foreignObject = nodeMerge.selectAll<SVGForeignObjectElement, IMarkmapFlexTreeItem>(childSelector<SVGForeignObjectElement>('foreignObject'))\n      .data(d => [d], d => d.data.p.k)\n      .join(\n        enter => {\n          const fo = enter.append('foreignObject')\n            .attr('class', `${id}-fo`)\n            .attr('x', paddingX)\n            .attr('y', 0)\n            .style('opacity', 0)\n            .attr('height', d => d.xSize)\n\n          fo.append('xhtml:div')\n            .select(function select(d) {\n              const node = d.data.p.el.cloneNode(true)\n              this.replaceWith(node)\n              return node\n            })\n            .attr('xmlns', 'http://www.w3.org/1999/xhtml')\n\n          return fo\n        },\n        update => update,\n        exit => exit.remove()\n      )\n      .attr('width', d => Math.max(0, d.ySizeInner - paddingX * 2))\n    this.transition(foreignObject)\n      .style('opacity', 1)\n\n    // Update the links\n    const path = this.g.selectAll<SVGPathElement, IMarkmapLinkItem>(childSelector<SVGPathElement>('path'))\n      .data(links, d => d.target.data.p.k)\n      .join(\n        enter => {\n          const source: [number, number] = [\n            y0 + origin.ySizeInner,\n            x0 + origin.xSize / 2\n          ]\n          return enter.insert('path', 'g')\n            .attr('d', linkShape({ source, target: source }))\n        },\n        update => update,\n        exit => {\n          const source: [number, number] = [\n            origin.y + origin.ySizeInner,\n            origin.x + origin.xSize / 2\n          ]\n          return this.transition(exit)\n            .attr('d', linkShape({ source, target: source }))\n            .remove()\n        }\n      )\n    this.transition(path)\n      .attr('stroke', d => color(d.target.data))\n      .attr('stroke-width', d => linkWidth(d.target))\n      .attr('d', d => {\n        const source: [number, number] = [\n          d.source.y + d.source.ySizeInner,\n          d.source.x + d.source.xSize / 2\n        ]\n        const target: [number, number] = [\n          d.target.y,\n          d.target.x + d.target.xSize / 2\n        ]\n        return linkShape({ source, target })\n      })\n\n    descendants.forEach(d => {\n      d.data.p.x0 = d.x\n      d.data.p.y0 = d.y\n    })\n  }\n\n  transition<T extends d3.BaseType, U, P extends d3.BaseType, Q>(\n    sel: d3.Selection<T, U, P, Q>\n  ): d3.Transition<T, U, P, Q> {\n    const { duration } = this.options\n    return sel.transition().duration(duration)\n  }\n\n  fit(): Promise<void> {\n    const svgNode = this.svg.node()\n    const { width: offsetWidth, height: offsetHeight } = svgNode.getBoundingClientRect()\n    const { fitRatio } = this.options\n    const { minX, maxX, minY, maxY } = this.state\n    const naturalWidth = maxY - minY\n    const naturalHeight = maxX - minX\n    const scale = Math.min(\n      offsetWidth / naturalWidth * fitRatio,\n      offsetHeight / naturalHeight * fitRatio,\n      2\n    )\n    const initialZoom = d3.zoomIdentity\n      .translate(\n        (offsetWidth - naturalWidth * scale) / 2 - minY * scale,\n        (offsetHeight - naturalHeight * scale) / 2 - minX * scale\n      )\n      .scale(scale)\n    return this.transition(this.svg).call(this.zoom.transform, initialZoom).end().catch(noop)\n  }\n\n  rescale(scale: number): Promise<void> {\n    const svgNode = this.svg.node()\n    const { width: offsetWidth, height: offsetHeight } = svgNode.getBoundingClientRect()\n    const halfWidth = offsetWidth / 2\n    const halfHeight = offsetHeight / 2\n    const transform = d3.zoomTransform(svgNode)\n    const newTransform = transform\n      .translate(\n        (halfWidth - transform.x) * (1 - scale) / transform.k,\n        (halfHeight - transform.y) * (1 - scale) / transform.k\n      )\n      .scale(scale)\n    return this.transition(this.svg).call(this.zoom.transform, newTransform).end().catch(noop)\n  }\n\n  static create(\n    svg: string | SVGElement | ID3SVGElement,\n    opts?: IMarkmapOptions,\n    data?: INode\n  ): Markmap {\n    const mm = new Markmap(svg, opts)\n    if (data) {\n      mm.setData(data)\n      mm.fit() // always fit for the first render\n    }\n    onPromiseResolve(refreshPromises, () => {\n      mm.setData()\n    })\n    return mm\n  }\n}\n","import React from 'react'\nimport { Markmap } from './d3'\n\ninterface PropsType {\n  data: any\n  onClick: any\n}\n\nclass TreeChart extends React.Component<PropsType, {}> {\n  myRef: any\n  markmap: Markmap\n\n  constructor(props) {\n    super(props)\n    this.myRef = React.createRef()\n  }\n\n  componentDidMount() {\n    const el = this.myRef.current\n    const data = this.props.data\n    this.markmap = Markmap.create(el, { onClick: this.props.onClick }, data)\n  }\n\n  componentDidUpdate() {\n    const data = this.props.data\n    this.markmap.setData(data)\n  }\n\n  componentWillUnmount() {\n    // this.markmap.svg.remove()\n  }\n\n  render() {\n    return <svg style={{ height: '100%', width: '100%' }} ref={this.myRef} />\n  }\n}\n\nexport default TreeChart\n","import { Colors } from '@blueprintjs/core'\n\nconst colorKeys = [\n  'BLUE',\n  'GREEN',\n  'ORANGE',\n  'RED',\n  'COBALT',\n  'FOREST',\n  'GOLD',\n  'INDIGO',\n  'LIME',\n  'ROSE',\n  'SEPIA',\n  'TURQUOISE',\n  'VERMILION',\n  'VIOLET'\n]\n\nexport const FALLBACK_COLOR = Colors.BLACK\n\nexport function getColor (i: number, j: number) {\n  var key = colorKeys[i % (colorKeys.length)]\n  const k = j < 4 ? 5 - j : 1\n  key = `${key}${k}`\n  return Colors[key] || FALLBACK_COLOR\n}\n","import { INode } from '../types'\nimport { getColor, FALLBACK_COLOR } from './style'\nimport { HierarchyMap } from '../structures/hierarchy-map'\nimport { LINKS, NO_MATCHES } from '../logic/db'\n\nexport function styled(node: INode, depth: number = 0, colorMain?: number): INode {\n  const { v, c } = node\n  const l = depth > 0 ? getColor(colorMain, depth - 1) : FALLBACK_COLOR\n  const newV = v == '.' ? '' : v\n  const newNode = { ...node, c: null, v: newV, d: depth, l } as INode\n  if (newV == LINKS) {\n    newNode.p = { ...newNode.p, f: true }\n  }\n  if (c && c.length > 0) {\n    newNode.c = c.map((child, i) => styled(child, depth + 1, colorMain == null ? i : colorMain))\n  }\n  return newNode\n}\n\nfunction as_map(name, children) {\n  return { v: name, c: children }\n}\n\nexport function adapt(hm: HierarchyMap, query: String): INode {\n  var data = hm.walk(as_map)\n  const l = data.length\n  switch (data.length) {\n    case 0:\n      data = { v: query, c: [{ v: NO_MATCHES }] }\n      break\n    case 1:\n      data = data[0]\n      break\n    default:\n      data = { ...data[0], v: query, c: data }\n  }\n  return styled(data)\n}\n","import React, { useMemo } from 'react'\nimport TreeChart from './tree-chart'\nimport { isInternalCommand, queryFunctionBuilder } from '../logic/db'\nimport { useMainContext } from '../context'\nimport { adapt } from '../logic/adapter'\nimport { INode } from '../types'\n\nconst Mindmap = () => {\n  const { query, setQuery, maps } = useMainContext()\n\n  const queryFunction = useMemo(\n    () => maps == null ? null : queryFunctionBuilder(maps),\n    [maps])\n\n  const data = useMemo(\n    () => queryFunction == null ? null : adapt(queryFunction(query), query),\n    [queryFunction, query])\n\n  return data == null\n    ? null\n    : <TreeChart\n      data={data}\n      onClick={({ v }: INode) => {\n        if (isInternalCommand(v)) {\n          return\n        }\n        setQuery(v)\n      }} />\n}\n\nexport default Mindmap\n","import React from 'react'\nimport Particles from 'react-tsparticles'\n\nconst options = {\n  fpsLimit: 60,\n  interactivity: {\n    detectsOn: 'canvas',\n    events: {\n      onClick: {\n        enable: true,\n        mode: 'push'\n      },\n      onHover: {\n        enable: true,\n        mode: 'repulse'\n      },\n      resize: true\n    },\n    modes: {\n      bubble: {\n        distance: 400,\n        duration: 2,\n        opacity: 0.8,\n        size: 40\n      },\n      push: {\n        quantity: 4\n      },\n      repulse: {\n        distance: 200,\n        duration: 0.4\n      }\n    }\n  },\n  particles: {\n    color: {\n      value: '#ffffff'\n    },\n    links: {\n      color: '#ffffff',\n      distance: 150,\n      enable: true,\n      opacity: 0.3,\n      width: 1\n    },\n    collisions: {\n      enable: false\n    },\n    move: {\n      direction: 'none',\n      enable: true,\n      outMode: 'bounce',\n      random: false,\n      speed: 3,\n      straight: false\n    },\n    number: {\n      density: {\n        enable: true,\n        value_area: 1200\n      },\n      value: 80\n    },\n    opacity: {\n      value: 0.5\n    },\n    shape: {\n      type: 'circle'\n    },\n    size: {\n      random: true,\n      value: 3\n    }\n  },\n  detectRetina: true\n}\n\nexport const ParticlesBackground = () => {\n  return (\n    <Particles\n      className='tsparticles background'\n      options={options}\n    />\n  )\n}\n","import React from 'react'\nimport Mindmap from './mind-map'\nimport { ParticlesBackground } from './particles-background'\n\nexport const MainView = () => {\n  return (\n    <div id='main-view'>\n      <div className='content'>\n        <Mindmap />\n      </div>\n      <ParticlesBackground />\n    </div>\n  )\n}\n","import React from 'react'\nimport { useMainContext } from '../context'\nimport { HOME } from '../logic/db'\nimport {\n  InputGroup,\n  Alignment,\n  Button,\n  Classes,\n  Icon,\n  Navbar,\n  NavbarDivider,\n  NavbarGroup,\n  NavbarHeading\n} from '@blueprintjs/core'\n\nconst searchButton = (\n  <Button\n    icon='search'\n    minimal\n  />\n)\n\nconst Search = () => {\n  const { query, setQuery } = useMainContext()\n\n  return (\n    <InputGroup\n      rightElement={searchButton}\n      type='text'\n      className='search'\n      value={query}\n      onChange={(v) => setQuery(v.target.value)}\n    />\n  )\n}\n\nconst searchWikipediaClick = (query) => () => {\n  window.open(`https://duckduckgo.com/?q=!+wikipedia+pt+en+${query}`)\n}\n\nconst searchGoogleImagesClick = (query) => () => {\n  window.open(`https://www.google.com.br/search?tbm=isch&hl=en&source=hp&biw=1024&bih=673&q=${query}&btnG=Search+Images&gbv=2&oq=&aq=&aqi=&aql=&gs_l=&gws_rd=ssl`)\n}\n\nconst searchFarlexClick = (query) => () => {\n  window.open(`https://duckduckgo.com/?q=!+thefreedictionary+${query}`)\n}\n\nconst helpClick = () => {\n  window.open('https://github.com/denisidoro/move-reminder')\n}\n\nexport const NavBar = () => {\n  const { query, setQuery } = useMainContext()\n  const disabled = query == HOME\n\n  return (\n    <Navbar fixedToTop className='navbar' style={{ background: 'black' }}>\n      <NavbarGroup className='bp3-dark' align={Alignment.LEFT}>\n        <NavbarHeading><Icon icon='graph' /></NavbarHeading>\n        <NavbarDivider />\n        <Search />\n        <NavbarDivider />\n        <Button icon='home' className={Classes.MINIMAL} onClick={() => setQuery(HOME)} />\n        <NavbarDivider />\n        <Button icon='globe' className={Classes.MINIMAL} disabled={disabled} onClick={searchWikipediaClick(query)} />\n        <Button icon='book' className={Classes.MINIMAL} disabled={disabled} onClick={searchFarlexClick(query)} />\n        <Button icon='camera' className={Classes.MINIMAL} disabled={disabled} onClick={searchGoogleImagesClick(query)} />\n        <NavbarDivider />\n        <Button icon='help' className={Classes.MINIMAL} onClick={helpClick} />\n      </NavbarGroup>\n    </Navbar>\n  )\n}\n","import './bootstrap/App.css'\nimport 'normalize.css'\nimport '@blueprintjs/core/lib/css/blueprint.css'\nimport '@blueprintjs/icons/lib/css/blueprint-icons.css'\n\nimport React, { useEffect, useState } from 'react'\nimport { MainContext } from './context'\nimport { HOME } from './logic/db'\nimport { stringToMap } from './logic/bulk-parser'\nimport { MainView } from './widgets/main-view'\nimport { NavBar } from './widgets/nav-bar'\nimport { getParams, DEFAULT_MAPS_URL, errorMaps } from './logic/url'\n\nconsole.clear()\n\nfunction App() {\n  const [query, setQuery] = useState(HOME)\n  const [maps, setMaps] = useState(null)\n\n  useEffect(() => {\n    const params = getParams(window.location.search)\n    const url = params.url || DEFAULT_MAPS_URL\n\n    const catchCallback = () => { setMaps(errorMaps(url)) }\n\n    fetch(url)\n      .then(response => response.text())\n      .catch(catchCallback)\n      .then(body => setMaps(stringToMap(body)))\n      .catch(catchCallback)\n  }, [])\n\n  return (\n    <MainContext.Provider value={{ query, setQuery, maps, setMaps }}>\n      <div className='App full-height'>\n        <NavBar />\n        <MainView />\n      </div>\n    </MainContext.Provider>\n  )\n}\n\nexport default App\n","export function getParams(location) {\n  const searchParams = new URLSearchParams(location)\n  const m = {}\n  for (const [k, v] of searchParams.entries()) {\n    m[k] = v\n  }\n  return m\n}\n\nexport const DEFAULT_MAPS_URL = 'mindmaps.txt'\n\nexport function errorMaps(url) {\n  return {\n    Error: `Impossible to get\n ${url}`\n  }\n}\n","export function stringToMap (text) {\n  const m = {}\n  let filename = ''\n\n  text.split('\\n').forEach(line => {\n    if (line[0] === '>') {\n      filename = line.substring(2)\n      m[filename] = []\n    } else {\n      m[filename].push(line)\n    }\n  })\n\n  const m2 = {}\n  Object.entries(m).forEach(([k, v]) => {\n    m2[k] = v.join('\\n')\n  })\n\n  return m2\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './bootstrap/index.css'\nimport App from './App'\nimport reportWebVitals from './bootstrap/reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}